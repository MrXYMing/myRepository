# 说明

本文档定义了HTML和CSS的格式和样式规则，旨在保持一般的代码质量。

---

## 一般规则

1. 缩进

    - 使用两个空格。
    - 不要使用制表符或混合制表符和空格来缩进。

2. 大小写

    - 只使用小写；
    - 适用于HTML元素名称、属性、属性值（除非是text/CDATA）、CSS选择器、属性和属性值（字符串除外）。
    - 例如：
    ```html
        <!-- Not recommended -->
        <A HREF="/">Home</A>
        <!-- Recommended -->
        <img src="google.png" alt="Google">
    ```
    ```css
        /* Not recommended */
        color: #E5E5E5;
        /* Recommended */
        color: #e5e5e5;
    ```

3. 行尾空格

    - 删除行尾的空格；
    - 行尾的空格是不必要的，可能会使差异复杂化。

4. 注释

    - 根据情况，在需要的地方补充解释代码；
    - 使用注释来解释代码：它包含了什么？它的用途是什么？为什么使用或优先使用相应的解决方案。
    - 项目进度紧张的情况下，可简略注释，解释为什么使用当前方案即可；尤其是在进行调整代码时，说明原因！

---

## HTML

1. HTML语义

    - 根据其目的使用HTML；
    - 使用元素（有时被错误地称为标签‘tags’）来创建他们的内容。例如，为标题使用 h 标签；为段落使用 p 标签；为锚点使用 a 标签，等；
    - 根据其目的使用HTML对于可访问性、重用性和代码效率问题很重要;
    - 尽量遵循html标准和语义，但不要以牺牲实用性为代价；任何时候都要尽量使用最少的标签并保持最小的复杂度。

2. 多媒体后备方案

    - 为多媒体提供替代内容；
    - 对于多媒体，例如 images、videos、通过 canvas生成的动画对象，确保提供替代访问。对于images，意味着使用有意义的替代文字（alt）；对于 video 和 audio使用转录本和标题（如果可用）；
    - 提供替代内容对于可访问性的原因很重要：盲人用户几乎没有线索可以告诉没有@alt的图像是什么，其他用户可能无法理解那些视频或音频内容；同时资源没有请求下来的话，至少会有文字提示，不至于突兀的出现撕裂图片；
    - 如果目标纯粹是装饰性图像，如果不能立即使用CSS，则不需要使用替代文本，直接 alt="" 即可。

3. 关注点分离

    - 与行为呈现不同的结构；
    - 严格保持结构（html）、呈现（css）和行为（js）分开，并尽量保持三者之间的交互作用最小；
    - 确保文档和模板仅包含用于结构目的的html。将所有表示形式移动到样式表中，并将所有行为都转换为脚本；
    - 通过尽可能少的从文档和模板链接样式表和脚本，尽可能减少接触面积；
    - 因为维护的原因，将结构与行为分开是非常重要的，更改html文档和模板比更新样式表和脚本总是代价更大的。

4. 格式

    - 对每个block、list、表格元素使用新行，并缩进每个这样的子元素；
    - 独立于元素的样式（因为CSS允许对每个显示属性采取不同的角色），将每个块、列表或表格元素放在一个新行中；
    - 如果是块、立标或表元素的子元素，将他们缩进；
    - 如果遇到列表项之间的空白问题，可以将所有li元素放在一行中。

5. 换行

    - 尽管html没有列限制建议，但如果想提高可读性，则应该考虑将过长的行换行；
    - 在换行时，每条延续线应该缩进至少4个原始行的附加空格。

6. 语法

    - 嵌套元素应当缩进一次（两个空格）；
    - 引用属性值时，使用双引号，而不是单引号；
    - 不要在自闭合元素的尾部添加斜线；
    - 不要省略可选的结束标签：`</li> </body>`

7. 属性顺序

    - html属性应当按照以下给出的顺序依次排序，确保代码的易读性：
        1. class
        2. id,name
        3. data-*
        4. src,for,type,href,value
        5. title,alt
        6. role,aria-*
    - class用于标识高度可复用组件，因此排在首位；id用于标识具体组件，应当谨慎使用，因此排在第二位。

8. 减少标签的数量

    - 编写html代码时，尽量避免多余的父元素。

---

## CSS

1. 命名（B.E.M命名方法）

    - BEM说明：
        - B：block，块，一个独立的模块/组件；
        - E：element，元素，模块/组件里的所有元素；
        - M：modifier，修饰符，.active等表达状态；
        - 三者可通过下划线`_`连接，例如：menu_title_show， menu_active。
    - 避免过度任意的简写：.btn 代表 button，但是 .s 不能表达任何意思；
    - 使用有意义的名称。使用有组织的或目的明确的名称，不要使用表现形式（presentational）的名称；
    - 使用 .js-* class 来标识行为（与样式相对），并且不要将这些 class 包含到 CSS 文件中。

2. 选择器

    - 对于通用元素使用 class ，这样利于渲染性能的优化；
    - 对于经常出现的组件，避免使用属性选择器（例如，[class^="..."]）。浏览器的性能会受到这些因素的影响；
    - 选择器要尽可能短，并且尽量限制组成选择器的元素个数，建议不要超过 3 ；
    - 只有在必要的时候才将 class 限制在最近的父元素内（也就是后代选择器）（例如，不使用带前缀的 class 时 -- 前缀类似于命名空间）。

3. 类型选择器

    - 避免使用类型选择器来限定id和class： ul#example{}；
    - 除非必要，否则不要将元素名称与id和class结合使用；
    - 出于性能原因，避免不必要的祖先选择器是有用的。

4. 简写属性

    - 在合适且合理的情况下，尽可能使用简写属性；
    - 使用简写属性对于代码效率和可理解性非常有用，但切忌滥用简写属性。

5. 0 和单位

    - 除非需要，否则在 0 值后省略单位规格；
    - 除非需要，否则不要在0值后使用单位。

6. 前导0

    - 忽略值中的前导0；

7. 十六进制表示法

    - 尽可能使用3个字符的十六进制符号；
    - 对于允许它的颜色值，3个字符的十六进制符号更短，更简洁。

8. 前缀

    - 带有应用程序特定前缀的前缀选择器（可选）；
    - 在大型项目中以及嵌入到其他项目或外部站点中的代码使用id和class名称的前缀（作为名称空间）。使用简短的唯一标识符，后面跟一个破折号；
    - 使用名称空间有助于防止命名冲突，并且可以使维护更加轻松，例如在搜索和替换操作中。

9. 属性设置顺序

    - 相关属性声明应当归为一组，并按照下列顺序排列：
        1. 定位
        2. 盒模型
        3. 文本
        4. 动画
    - 每组再按照字母顺序放置声明，以实现一致的代码的方式以便易于记忆和维护；
    - 为了排序目的，忽略供应商特定前缀，但可对供应商特定前缀进行排序（例如-moz前缀在-webkit之前）；
    - 带供应商特点前缀的属性，通过缩进的方式，让每个属性的值在垂直方向对齐，例如：
        ```css
        .selector {
            -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.15);
                    box-shadow: 0 1px 2px rgba(0,0,0,.15);
        }
        ```

10. 块内容缩进

    - 缩进所有的块内容，即规则内的规则以及声明，以反映层次结构并提高理解力。

11. 声明结尾

    - 每次声明结尾都是用分号；
    - 出于一致性和可拓展性的原因，用分号结束每个声明。

12. 属性名称结尾

    - 在属性名称的冒号后面使用空格；
    - 出于一致性原因，始终在属性和值之间使用单个空格（但属性和冒号之间没有空格）。

13. 声明块分离

    - 在最后一个选择器和声明块之间使用空格；
    - 始终在最后一个选择器和开始大括号之间使用一个空格来开始声明块；
    - 左大括号应该与给定规则中的最后一个选择符位于同一行。

14. 选择器和声明分离

     - 用新行分隔选择器和声明；
     - 始终为每个选择器和声明开始一个新行。
     - 例如：
     ```css
        h1,
        h2,
        h3 {
            font-weight: normal;
            line-height: 1.2;
        }
     ```

15. 规则分离

    - 用新行分开规则；
    - 始终在规则之间放置一个空白行（两个换行符）。
    - 例如：
    ```css
        html {
            background: #fff;
            }

        body {
            margin: auto;
            width: 50%;
        }
    ```

16. CSS引号

    - 对属性选择器和属性值使用单引号而不是双引号；
    - 不要在URI（url()）中使用引号；
    - 例外：如果确实需要使用 @charset规则，使用双引号，不允许使用单引号。

17. 部分注释

    - 按部分注释分组部分（可选）；
    - 如果可能，使用注释将样式表部分分组在一起，用新行分隔各个部分；
    - 例如：
    ```css
    /* Header */

    .adw-header {}

    /* Footer */

    .adw-footer {}

    /* Gallery */

    .adw-gallery {}
    ```

18. 语法

    - 为了获得更准确的错误报告，每条声明都应该独占一行；
    - 不要在 rgb()、rgba()、hsl()、hsla() 或 rect() 值的内部的逗号后面插入空格。这样利于从多个属性值（既加逗号也加空格）中区分多个颜色值（只加逗号，不加空格）；
    - 为选择器中的属性添加双引号，例如，`input[type="text"]`。

19. 单行规则声明

    - 对于只包含一条声明的样式，为了易读性和便于快速编辑，建议将语句放在同一行；
    - 对于带有多条声明的样式，还是应当将声明分为多行；
    - 这样做的关键因素是为了错误检测，css校验器能能明确指出语法错误的行数。